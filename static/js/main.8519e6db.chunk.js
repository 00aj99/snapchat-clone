(this["webpackJsonpsnapchat-clone"]=this["webpackJsonpsnapchat-clone"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),o=a.n(c),i=a(31),s=a(9),l=a(20),u=a(10),m=a(55),f=a(18),d=a(2),p=function(e){return function(t){t({type:"app/showDrawer",drawer:Object(d.a)(Object(d.a)({},{show:!0,animationIn:"slideInUp",animationOut:"slideOutDown",animationInDuration:300,animationOutDuration:300,theme:"light",position:"front"}),e)})}},h=function(e){return function(t){return t({type:"app/hideDrawer",component:e})}},b=function(e){return function(t){return t({type:"app/setFooterType",footerType:e})}},v={footerType:"full",drawers:[]},E=function(e,t){var a=e.drawers.filter((function(e){return e.component!==t.component}));return Object(d.a)(Object(d.a)({},e),{},{drawers:[].concat(Object(f.a)(a),[t])})},g=function(e,t){var a;if(t)a=e.drawers.map((function(e){return e.component===t?Object(d.a)(Object(d.a)({},e),{},{show:!1}):e}));else{var n=e.drawers.filter((function(e){return e.show})),r=n[n.length-1].component;a=n.length>1?e.drawers.map((function(e){return e.component===r?Object(d.a)(Object(d.a)({},e),{},{show:!1}):Object(d.a)(Object(d.a)({},e),{},{show:!1,animationOutDuration:0})})):e.drawers.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{show:!1})}))}return Object(d.a)(Object(d.a)({},e),{},{drawers:a})};var w=a(4),O=a.n(w),j=a(3),y=a(8),k={baseURL:"./api",get:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return k.respond("get",e,null,t)},post:function(e,t){return k.respond("post",e,t)},put:function(e,t){return k.respond("put",e,t)},patch:function(e,t){return k.respond("patch",e,t)},delete:function(e){return k.respond("delete",e)},respond:function(){var e=Object(y.a)(O.a.mark((function e(t,a,n,r){var c,o,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r?a:k.baseURL+a,o=n?{headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(n)}:{},e.prev=2,e.next=5,fetch(c,Object(d.a)({method:t},o));case 5:return i=e.sent,e.next=8,i.json();case 8:return s=e.sent,e.abrupt("return",[null,s]);case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",[e.t0]);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()},N=function(e){return e.then((function(e){return e instanceof Error?[e]:[null,e]})).catch((function(e){return[e]}))},C=function(e){return new Promise((function(t){return setTimeout(t,e)}))},I={session:{},friends:[],geolocation:{}};var S={sn:"snow",sl:"sleet",h:"hail",t:"thunderstorm",s:"showers",c:"clear",hr:"heavy-rain",lr:"light-rain",hc:"heavy-cloud",lc:"light-cloud"},D={snow:"faSnowflake",sleet:"faIcicles",hail:"faCloudMeatball",thunderstorm:"faPooStorm",showers:"faCloudShowersHeavy",clear:"faSun","heavy-rain":"faCloudShowersHeavy","light-rain":"faCloudRain","heavy-cloud":"faCloud","light-cloud":"faCloudSun"},M={snaps:[],weather:{}};var x=function(e){return function(t){return t({type:"snap/addSnap",snap:e})}},L={};var T={thread:"Lisa",messages:[]};var A={cameraMode:"user",photoTaken:!1,photos:[]},P=function(e,t){var a=Object(f.a)(e.photos);if(e.photoTaken)a[0].images.unshift(t);else{var n=new Date;a.unshift({month:n.toLocaleString("default",{month:"long"}),year:n.getFullYear(),images:[t]})}return Object(d.a)(Object(d.a)({},e),{},{photoTaken:!0,photos:a})};var R=a(6),F=a.n(R),z=navigator.language,U=void 0===z?"en-US":z,H=function(e){return e.some((function(e){return e.show}))},G=a(11),J=a(56),B=a(38),W=a(57),_=a(1),V=(a(69),{faSnapchatSquare:B.b,faGithub:B.a,faCircle:W.a,faCamera:_.e,faUserPlus:_.ab,faListAlt:_.y,faGrinBeam:_.v,faAngleRight:_.c,faCompass:_.n,faUserCircle:_.Z,faSearch:_.N,faRetweet:_.L,faAngleDown:_.a,faLocationArrow:_.z,faSignal:_.P,faBatteryHalf:_.d,faCommentAlt:_.m,faMobile:_.C,faMobileAlt:_.D,faDot:_.f,faLaugh:_.x,faSmileWink:_.Q,faEllipsisV:_.t,faEllipsisH:_.s,faCog:_.l,faTimesCircle:_.Y,faTimes:_.X,faAngleLeft:_.b,faSearchPlus:_.O,faPaw:_.F,faSpider:_.S,faWater:_.cb,faPhoneAlt:_.H,faVideo:_.bb,faRocket:_.M,faMicrophone:_.B,faDownload:_.q,faTextHeight:_.W,faPen:_.G,faStickyNote:_.T,faCut:_.p,faPaperclip:_.E,faCropAlt:_.o,faStopwatch:_.U,faExternalLinkAlt:_.u,faPlayCircle:_.I,faEdit:_.r,faMagic:_.A,faQrcode:_.K,faSnowflake:_.R,faIcicles:_.w,faCloudMeatball:_.h,faPooStorm:_.J,faCloudShowersHeavy:_.j,faCloudRain:_.i,faCloud:_.g,faCloudSun:_.k,faSun:_.V}),q=function(e){var t=e.icon,a=e.onClick,n=e.className,c=void 0===n?"":n;return t?r.a.createElement(J.a,{icon:V[t],onClick:a,className:F()("icon",Object(G.a)({},c,!0))}):null},Y=(a(70),function(e){var t=e.drawers,a=Object(n.useState)(""),c=Object(j.a)(a,2),o=c[0],i=c[1],s=function(){var e=(new Date).toLocaleTimeString(U,{hour:"numeric",minute:"2-digit"}).replace(/AM|PM/,"");i(e)};return Object(n.useEffect)((function(){s(),setInterval(s,1e3)}),[]),r.a.createElement("div",{className:F()("toolbar",{dark:H(t)})},r.a.createElement("div",{className:"left"},r.a.createElement("time",null,o),r.a.createElement(q,{icon:"faLocationArrow"})),r.a.createElement("div",{className:"right"},r.a.createElement(q,{icon:"faSignal",className:"icon-signal"}),r.a.createElement(q,{icon:"faBatteryHalf"})))}),Z=a(16),Q=(a(121),function(e){var t,a=e.image,n=e.icon,c=e.icons,o=e.iconClass,i=void 0===o?"":o,s=e.iconClasses,l=void 0===s?[]:s,u=e.buttonClass,m=void 0===u?"":u,f=e.round,d=e.plain,p=e.purple,h=e.label,b=e.onclick,v=e.testId;return r.a.createElement("button",{type:"button",onClick:b,className:F()("btn",(t={},Object(G.a)(t,m,!0),Object(G.a)(t,"round",f),Object(G.a)(t,"plain",d),Object(G.a)(t,"purple",p),t)),"data-test":v},a?r.a.createElement("img",{src:a,alt:""}):c?c.map((function(e,t){return r.a.createElement(q,{key:e+t,icon:e,className:F()(Object(G.a)({},l[t],l[t]))})})):n?r.a.createElement(q,{icon:n,className:F()(Object(G.a)({},i,!0))}):null,h&&r.a.createElement("strong",null,h))}),K=(a(122),function(e){var t=e.footerType,a=e.setFooterType,n=e.drawers,c=e.showDrawer,o=e.hideDrawer;return r.a.createElement(r.a.Fragment,null,"none"!==t&&r.a.createElement("footer",{className:F()("footer",{"light-shadow":H(n)})},r.a.createElement("div",{className:"left"},r.a.createElement(Q,{icons:["faCommentAlt","faDot"],iconClasses:[null,"new-msg"],buttonClass:"btn-chat",testId:"btn-chat",label:"Chat",onclick:function(){return c({component:"chat",animationIn:"slideInLeft",animationOut:"slideOutLeft",theme:"stripped"})}})),r.a.createElement("div",{className:"center"},r.a.createElement(Z.Animated,{animationIn:"zoomIn",animationOut:"zoomOut",animationInDuration:500,animationOutDuration:500,isVisible:"collapsed"===t,animateOnMount:!1},r.a.createElement(Q,{icon:"faCircle",buttonClass:"btn-capture",testId:"btn-capture-footer",onclick:function(){a("full"),o()}})),r.a.createElement(Z.Animated,{animationIn:"zoomIn",animationOut:"zoomOut",animationInDuration:500,animationOutDuration:500,isVisible:"full"===t,animateOnMount:!1},r.a.createElement(Q,{icons:["faMobile","faMobileAlt"],buttonClass:"btn-archive",testId:"btn-archive",onclick:function(){a("collapsed"),c({component:"archive",animationIn:"slideInUp",animationOut:"slideOutDown",position:"back"})}}))),r.a.createElement("div",{className:"right"},r.a.createElement(Q,{icons:["faMobile","faMobile"],buttonClass:"btn-discover",testId:"btn-discover",label:"Discover",onclick:function(){a("collapsed"),c({component:"discover",animationIn:"slideInRight",animationOut:"slideOutRight",position:"back"})}}))))}),X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return setTimeout(e,t)},$=(a(123),function(e){var t=e.header,a=e.children,n=e.className,c=void 0===n?"":n,o=e.transparent;return r.a.createElement("section",{className:F()("widget",Object(G.a)({},c,!0))},r.a.createElement("header",null,t),r.a.createElement("div",{className:F()("inner-content",{transparent:o})},a))}),ee=(a(124),function(e){var t=e.leftIcon,a=e.rightIcon,n=e.label,c=e.straightEdge;return r.a.createElement("article",{className:F()("pod","action-item",{"straight-edge":c})},r.a.createElement(q,{icon:t,className:"ico-left"}),n,r.a.createElement(Q,{icon:a,buttonClass:"ico-right"}))}),te=a(17),ae=a.n(te),ne=(a(125),function(e){var t=e.fixed,a=e.message;return r.a.createElement("div",{className:F()("loading",{fixed:t,message:a})},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"sk-cube-grid"},new Array(9).fill(null).map((function(e,t){return r.a.createElement("div",{key:"cube-".concat(t),className:"sk-cube sk-cube"+t})}))),a&&r.a.createElement("span",null,a)))}),re=(a(126),"pk.eyJ1IjoidGtwb3A3NzciLCJhIjoiY2tjZWNhcmRzMDBtZTJ6bnExbG4ya2ludiJ9.J2MYqCdGMZENpyzI0blWPg"),ce=!!re.length;ce&&(ae.a.accessToken=re);var oe=function(e){var t=e.showDrawer,a=e.getGeoLocation,c=e.setLatLon,o=Object(n.useRef)(null),i=Object(n.useState)(!0),s=Object(j.a)(i,2),l=s[0],u=s[1];Object(n.useEffect)((function(){ce&&Object(y.a)(O.a.mark((function e(){var t,n,r,o,i,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:t=e.sent,n=Object(j.a)(t,2),r=n[0],o=n[1],r?(i=function(e,t){m(e,t),c(e,t)},s=function(){return i(40.75491,-73.994102)},"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;i(t.latitude,t.longitude)}),(function(e){s()}),{maximumAge:1/0,timeout:5e3,enableHighAccuracy:!0}):s()):m(o.latitude,o.longitude);case 7:case"end":return e.stop()}}),e)})))()}),[a,c]);var m=function(e,t){var a=new ae.a.Map({container:o.current,style:"mapbox://styles/mapbox/streets-v11",center:[t,e],zoom:13,interactive:!1}).on("load",(function(){u(!1);var n=document.createElement("div");n.className="self-marker",new ae.a.Marker(n).setLngLat([t,e]).addTo(a)}))};return r.a.createElement("div",{className:"preview-map","data-test":"preview-map",onClick:function(){return ce&&t({component:"snapMap",animationIn:"fadeIn",animationOut:"fadeOut",animationInDuration:0,animationOutDuration:0,theme:"stripped"})}},ce?l?r.a.createElement(ne,null):null:r.a.createElement("div",{className:"api-key-msg"},r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"earth emoji"},"\ud83c\udf0e")," ","Get a free mapboxgl"," ",r.a.createElement("a",{href:"https://docs.mapbox.com/help/glossary/access-token/",target:"_blank",rel:"noopener noreferrer"},"API key here"),", then rename the ",r.a.createElement("code",null,".env.sample")," file at the root of the project to just ",r.a.createElement("code",null,".env")," and place the key inside, finally run",r.a.createElement("code",null,"npm start")," again to view the snap map features!")),ce&&r.a.createElement("div",{className:"map",ref:o}))},ie=(a(127),(new Date).toLocaleDateString(U,{year:"numeric",month:"long",day:"numeric"})),se=Object(u.b)((function(e){return{session:e.user.session}}),(function(e){return{showDrawer:function(t){return e(p(t))},hideDrawer:function(t){return e(h(t))},getGeoLocation:function(){return e(function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n,r,c,o,i,s,l,u,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("https://geolocation-db.com/json/",!0);case 2:if(a=e.sent,n=Object(j.a)(a,2),r=n[0],c=n[1],!r){e.next=8;break}return e.abrupt("return",[!0]);case 8:return o=c.country_name,i=c.state,s=c.city,l=c.postal,u=c.latitude,m=c.longitude,t({type:"user/geoLocationFetched",geolocation:{country:o,state:i,city:s,zip:l,latitude:u,longitude:m}}),e.abrupt("return",[!1,{latitude:u,longitude:m}]);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},setLatLon:function(t,a){return e((n=t,r=a,function(e){return e({type:"user/setLatLon",geolocation:{latitude:n,longitude:r}})}));var n,r}}}))((function(e){var t=e.showDrawer,a=e.hideDrawer,n=e.session,c=e.getGeoLocation,o=e.setLatLon;return r.a.createElement("main",{className:"account"},r.a.createElement("header",null,r.a.createElement(Q,{icon:"faAngleDown",onclick:function(){return a("account")},buttonClass:"btn-close"}),r.a.createElement(q,{icon:"faCog",className:"ico-gear"})),r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"./images/logo.svg",alt:""}),r.a.createElement("strong",null,n.username)),r.a.createElement($,{header:"Stories",transparent:!0},r.a.createElement(ee,{leftIcon:"faCamera",rightIcon:"faEllipsisV",label:"Add to My Story"}),r.a.createElement(ee,{leftIcon:"faCamera",rightIcon:"faEllipsisV",label:"Add to Our Story"})),r.a.createElement($,{header:"Friends",transparent:!0},r.a.createElement(ee,{leftIcon:"faUserPlus",rightIcon:"faAngleRight",label:"Add Friends"}),r.a.createElement(ee,{leftIcon:"faListAlt",rightIcon:"faAngleRight",label:"My Friends"})),r.a.createElement($,{header:"Bitmoji",transparent:!0},r.a.createElement(ee,{leftIcon:"faGrinBeam",rightIcon:"faAngleRight",label:"Create Bitmoji"})),r.a.createElement($,{header:"Snap Map"},r.a.createElement(oe,{getGeoLocation:c,setLatLon:o,showDrawer:t}),r.a.createElement(ee,{leftIcon:"faCompass",rightIcon:"faAngleRight",label:"Set a Status",straightEdge:!0})),r.a.createElement("footer",null,r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/TowhidKashem/snapchat-clone",target:"_blank",rel:"noopener noreferrer",title:"Github Repo"},r.a.createElement(q,{icon:"faGithub"})),"Joined SnapChat on ",ie)))})),le=(a(128),function(e){var t=e.placeholder,a=e.value,c=e.leftIcon,o=e.rightIcon,i=e.onClick,s=e.onFocus,l=e.onBlur,u=e.onChange,m=e.onEnter,f=e.focus,d=e.spellCheck,p=e.animate,h=e.dark,b=Object(n.useRef)(null),v=Object(n.useState)(!1),E=Object(j.a)(v,2),g=E[0],w=E[1];Object(n.useEffect)((function(){p&&w(!0),X((function(){var e;f&&(null===b||void 0===b||null===(e=b.current)||void 0===e||e.focus())}))}),[p,f]);var O=!!i;return r.a.createElement("div",{onClick:i,className:F()("input",{animate:p,full:g,dark:h}),"data-test":"input"},c&&r.a.createElement(q,{icon:c,className:"left-icon"}),r.a.createElement("input",{type:"text",ref:b,placeholder:t,value:a,onClick:i,onFocus:s,onBlur:l,onChange:u,onKeyPress:function(e){var t=e.key;return m&&"Enter"===t&&m()},disabled:O,spellCheck:d||!1,className:F()({"has-left-icon":c}),"data-test":"field"}),o&&r.a.createElement(q,{icon:o,className:"right-icon"}))}),ue=(a(129),{sm:45,md:100,lg:150}),me=function(e){var t=e.src,a=e.size,n=void 0===a?"md":a;return r.a.createElement("img",{src:t,className:"avatar",alt:"",width:ue[n]})},fe=(a(130),function(e){var t=e.user,a=t.username,n=t.fullName,c=t.avatar;return r.a.createElement("article",{className:"pod user"},r.a.createElement(me,{src:c,size:"sm"}),r.a.createElement("div",{className:"meta"},r.a.createElement("header",null,n),r.a.createElement("span",null,a)))}),de=(a(131),Object(u.b)((function(e){return{friends:e.user.friends}}),(function(e){return{hideDrawer:function(t){return e(h(t))}}}))((function(e){var t=e.friends,a=void 0===t?[]:t,c=e.show,o=e.hideDrawer,i=Object(n.useState)(""),s=Object(j.a)(i,2),l=s[0],u=s[1];Object(n.useEffect)((function(){c||u("")}),[c]);var m=new RegExp(l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),f=l?a.filter((function(e){var t=e.fullName,a=e.username;return t.match(m)||a.match(m)})):a,d=f.length>0;return r.a.createElement("main",{className:"search"},r.a.createElement("header",null,r.a.createElement(le,{placeholder:"Search",leftIcon:"faSearch",value:l,onChange:function(e){return u(e.currentTarget.value)},focus:c,animate:!0,dark:!0}),r.a.createElement(Q,{label:"Cancel",plain:!0,onclick:function(){return o("search")},testId:"btn-cancel"})),r.a.createElement("section",null,r.a.createElement(Z.Animated,{animationIn:"slideInUp",animationOut:"slideOutDown",animationInDuration:250,animationOutDuration:0,isVisible:c},r.a.createElement("div",{className:"results"},d&&r.a.createElement($,{header:"Quick Add"},f.map((function(e){return r.a.createElement(fe,{key:e.id,user:e})})))),l&&!d&&r.a.createElement("p",{className:"no-results"},r.a.createElement("span",{role:"img","aria-label":"poop emoji"},"\ud83d\udca9")," ","No results"))))}))),pe=(a(132),function(e){var t=e.weather,a=t.temperature,n=t.condition,c=e.city,o=e.hideDrawer;return r.a.createElement("header",{className:"weather-header"},r.a.createElement("div",{className:"left"},r.a.createElement(Q,{icon:"faTimes",round:!0,onclick:function(){return o("snapMap")},buttonClass:"btn-close",testId:"btn-close"}),r.a.createElement(Q,{icon:"faSearch",round:!0})),r.a.createElement("div",{className:"center"},r.a.createElement("article",{className:"weather"},r.a.createElement("header",null,c),r.a.createElement("div",{className:"condition"},r.a.createElement(q,{icon:D[n]}),r.a.createElement("span",{className:"temperature"},a,"\xb0F")))),r.a.createElement("div",{className:"right"},r.a.createElement(Q,{icon:"faCog",round:!0})))});a(133);ae.a.accessToken="pk.eyJ1IjoidGtwb3A3NzciLCJhIjoiY2tjZWNhcmRzMDBtZTJ6bnExbG4ya2ludiJ9.J2MYqCdGMZENpyzI0blWPg";var he=Object(u.b)((function(e){var t=e.snapMap,a=e.user;return{snaps:t.snaps,weather:t.weather,geolocation:a.geolocation}}),(function(e){return{getSnaps:function(t,a,n,r){return e(function(e,t,a,n){return function(){var r=Object(y.a)(O.a.mark((function r(c){var o,i,s,l,u,m;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,k.get("/snaps.json?geo=".concat(e,",").concat(t));case 2:o=r.sent,i=Object(j.a)(o,2),s=i[0],l=i[1],s||(u=[{lat:e+.006,lon:t-.006},{lat:e+.009,lon:t+.005},{lat:e+.006,lon:t-.001},{lat:e-.005,lon:t-.002},{lat:e-.001,lon:t-.005},{lat:e+.005,lon:t- -.006},{lat:e,lon:t+.004}],m=l.snaps.map((function(e,t){return Object(d.a)(Object(d.a)({},e),{},{location:a&&n?"".concat(a,", ").concat(n):null,lat:u[t].lat,lon:u[t].lon})})),c({type:"snapMap/snapsFetched",snaps:m}));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,a,n,r))},addSnap:function(t){return e(x(t))},getWeather:function(t,a){return e(function(e,t){return function(){var a=Object(y.a)(O.a.mark((function a(n){var r,c,o,i,s,l,u,m,f,d,p,h,b,v;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r="https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location",c={temperature:75,condition:"clear"},a.next=4,k.get("".concat(r,"/search/?lattlong=").concat(e,",").concat(t),!0);case 4:if(o=a.sent,i=Object(j.a)(o,2),s=i[0],l=i[1],s){a.next=17;break}return m=null===(u=l[0])||void 0===u?void 0:u.woeid,a.next=12,k.get("".concat(r,"/").concat(m,"/"),!0);case 12:f=a.sent,d=Object(j.a)(f,2),s=d[0],l=d[1],s||(h=null===(p=l)||void 0===p?void 0:p.consolidated_weather[0],b=h.the_temp,v=h.weather_state_abbr,c={temperature:(E=b,Math.round(1.8*E+32)),condition:S[v]});case 17:n({type:"snapMap/weatherFetched",weather:c});case 18:case"end":return a.stop()}var E}),a)})));return function(e){return a.apply(this,arguments)}}()}(t,a))},showDrawer:function(t){return e(p(t))},hideDrawer:function(t){return e(h(t))}}}))((function(e){var t=e.snaps,a=e.weather,c=e.getSnaps,o=e.addSnap,i=e.getWeather,s=e.showDrawer,l=e.hideDrawer,u=e.geolocation,m=u.latitude,f=u.longitude,d=u.city,p=u.state,h=Object(n.useRef)(null),b=Object(n.useState)(!0),v=Object(j.a)(b,2),E=v[0],g=v[1],w=Object(n.useState)(null),O=Object(j.a)(w,2),y=O[0],k=O[1];return Object(n.useEffect)((function(){c(m,f,d,p),i(m,f),k(new ae.a.Map({container:h.current,style:"mapbox://styles/mapbox/streets-v11",center:[f,m],zoom:13}).on("load",(function(){return g(!1)})))}),[c,i,m,f,d,p]),Object(n.useEffect)((function(){if(y){!function(){var e=document.createElement("div");e.className="self-marker",new ae.a.Marker(e).setLngLat([f,m]).addTo(y),setTimeout((function(){e.classList.add("zoomed-in"),new ae.a.Popup({closeOnClick:!1}).setLngLat([f,m]).setHTML("<header>Me</header>\n              <p>Not Sharing Location</p>").addTo(y)}),2300)}(),setTimeout((function(){return y.flyTo({zoom:14})}),2e3)}}),[y,m,f]),Object(n.useEffect)((function(){t.map((function(e){return function(e){var t=document.createElement("div");t.className="marker",t.setAttribute("data-test","marker"),t.onclick=function(t){t.target.classList.add("active"),X((function(){o(e),s({component:"snap",animationIn:"zoomIn",animationOut:"zoomOut",theme:"dark"})}),900),X((function(){return t.target.classList.remove("active")}),1e3)},new ae.a.Marker(t).setLngLat([e.lon,e.lat]).addTo(y)}(e)}))}),[t,y,o,s]),r.a.createElement("div",{className:"snap-map"},r.a.createElement("div",{className:"inner"},E&&r.a.createElement(ne,null),r.a.createElement(pe,{weather:a,city:d,hideDrawer:l}),r.a.createElement("div",{ref:h,className:"content"})))})),be=(a(53),a(136),a(137),Object(u.b)((function(e){return{snap:e.snap}}),(function(e){return{removeSnap:function(){return e((function(e){return e({type:"snap/removeSnap"})}))},hideDrawer:function(t){return e(h(t))}}}))((function(e){var t=e.snap,a=e.removeSnap,c=e.hideDrawer,o=t.location,i=t.time,s=t.type,l=t.url,u=t.caption,m=t.shareable,f=Object(n.useRef)(null);Object(n.useEffect)((function(){"video"===s&&f.current&&(f.current.load(),f.current.play())}),[t,s]);var d=function(){c("snap"),X((function(){return a()}))};return r.a.createElement("main",{className:"snap",onClick:d,"data-test":"snap"},r.a.createElement("header",{className:F()({metadata:o||i})},(o||i)&&r.a.createElement("div",{className:"left"},o&&r.a.createElement("span",{"data-test":"location"},o),i&&r.a.createElement("time",{"data-test":"time"},function(e){var t=new Intl.RelativeTimeFormat(U,{numeric:"auto",style:"long"}),a=e-Date.now(),n=Math.ceil(a/31536e6);if(n)return t.format(n,"year");var r=Math.ceil(a/168e6);if(r)return t.format(r,"month");var c=Math.ceil(a/864e5);if(c)return t.format(c,"day");var o=Math.ceil(a/36e5);if(o)return t.format(o,"hour");var i=Math.ceil(a/6e4);if(i)return t.format(i,"minute");var s=Math.ceil(a/1e3);return t.format(s,"second")}(i))),r.a.createElement("div",{className:"right"},r.a.createElement(Q,{icon:"faEllipsisV"}))),"video"===s?r.a.createElement("div",{className:"video-container"},r.a.createElement("video",{ref:f,playsInline:!0,onEnded:d,"data-test":"video"},r.a.createElement("source",{src:l,type:"video/mp4"}))):r.a.createElement("div",{className:"image-container","data-test":"image"},u&&r.a.createElement("div",{className:"caption","data-test":"caption"},u),r.a.createElement("img",{src:l,alt:""})),m&&r.a.createElement("footer",null,r.a.createElement(Q,{icon:"faLocationArrow"})))}))),ve=(a(138),function(e){var t=e.avatar,a=e.showDrawer,n=e.insideDrawer,c=e.toggleCameraMode,o=t?{image:t}:{icon:"faUserCircle"};return r.a.createElement("header",{className:"header","data-test":"header"},r.a.createElement(Q,Object.assign({},o,{onclick:function(){return a({component:"account"})},buttonClass:"btn-user",testId:"btn-user"})),r.a.createElement(le,{placeholder:"Search",leftIcon:"faSearch",rightIcon:"faUserPlus",onClick:function(){return a({component:"search",animationIn:"fadeIn",animationOut:"fadeOut",animationInDuration:200,animationOutDuration:200})},dark:n}),r.a.createElement("div",{className:"right"},n?r.a.createElement(q,{icon:"faEllipsisH"}):r.a.createElement(Q,{icon:"faRetweet",buttonClass:"btn-flip-camera",onclick:c})))}),Ee=(a(139),Object(u.b)((function(e){var t=e.user,a=e.camera;return{photos:a.photos,photoTaken:a.photoTaken,avatar:t.session.avatar}}),(function(e){return{showDrawer:function(t){return e(p(t))},addSnap:function(t){return e(x(t))}}}))((function(e){var t=e.photos,a=e.photoTaken,n=e.showDrawer,c=e.addSnap,o=e.avatar;return r.a.createElement("main",{className:"archive"},r.a.createElement(ve,{avatar:o,showDrawer:n,insideDrawer:!0}),r.a.createElement("nav",{className:"view-options"},r.a.createElement(Q,{label:"Snaps",buttonClass:"active"}),r.a.createElement(Q,{label:"Camera Roll"})),!a&&r.a.createElement("section",{className:"message","data-test":"placeholder-msg"},r.a.createElement("p",null,"Take a photo and it will appear here!")),t.map((function(e){var t=e.month,a=e.year,o=e.images;return r.a.createElement("section",{key:t,className:"month","data-test":"month"},r.a.createElement("h3",null,t," ",a),o.map((function(e,t){return r.a.createElement("img",{key:e+t,src:e,width:100,alt:"",onClick:function(){return function(e){c({type:"photo",url:e,shareable:!0}),n({component:"snap",animationIn:"zoomIn",animationOut:"zoomOut",theme:"dark"})}(e)},"data-test":"snap-image"})})))})))}))),ge=["Oh wow I can't believe it!","Hahaha you're so right!!","No way, when?!! \ud83d\ude31","OMG I totally agree!","Umm I'm not so sure about that one \ud83e\udd28","Wait, you are actually being serious rn?","Hahahahaha you're too much \ud83d\ude02\ud83d\ude02\ud83d\ude02","Did you watch the new show last night?","\ud83e\udd21"],we=function(){var e=Object(y.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={newAppMessage:"./audio/blip.mp3",cameraShutter:"./audio/shutter.mp3"},a.src=n[t],e.prev=2,e.next=5,a.play();case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Oe=(a(140),function(e){var t=e.icons;return r.a.createElement("div",{className:"pill"},t.map((function(e){return r.a.createElement(Q,{key:e,icon:e})})))}),je=(a(141),Object(u.b)((function(e){var t=e.user,a=e.chat;return{username:t.session.username,thread:a.thread,messages:a.messages}}),(function(e){return{hideDrawer:function(t){return e(h(t))},getMessages:function(t){return e(function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var n,r,c,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/messages.json?thread=".concat(e));case 2:n=t.sent,r=Object(j.a)(n,2),c=r[0],o=r[1],c||a({type:"chat/messagesReceived",messages:o.messages});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},postMessage:function(t,a){return e(function(e,t){return function(a){return a({type:"chat/postMessage",message:{author:e,message:t,time:Date.now()}})}}(t,a))}}}))((function(e){var t=e.username,a=e.thread,c=e.messages,o=e.hideDrawer,i=e.getMessages,s=e.postMessage,l=Object(n.useRef)(null),u=Object(n.useRef)(null),m=Object(n.useState)(""),f=Object(j.a)(m,2),d=f[0],p=f[1],h=Object(n.useState)(!1),b=Object(j.a)(h,2),v=b[0],E=b[1];Object(n.useLayoutEffect)((function(){l.current&&(l.current.scrollTop=l.current.scrollHeight)}),[c]);var g=Object(n.useCallback)(function(){var e=Object(y.a)(O.a.mark((function e(t){var n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t?[1e3,0]:[800,500,1e3,700,600,0],r=0;case 2:if(!(r<n.length)){e.next=10;break}return E((function(e){return!e})),e.next=6,C(n[r]);case 6:return e.abrupt("continue",7);case 7:r++,e.next=2;break;case 10:c=t?"Soooo, how was it!?":(o=ge)[Math.floor(Math.random()*o.length)],s(a,c),u.current&&we("newAppMessage",u.current);case 13:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,a]);Object(n.useEffect)((function(){i(a),g(!0)}),[a,i,g]);var w=function(){d.length&&(s(t,d),p(""),setTimeout(g,1e3))};return r.a.createElement("main",{className:"chat"},r.a.createElement("header",null,r.a.createElement(me,{src:"./images/bitmoji-other.png"}),r.a.createElement("h2",null,a),r.a.createElement("div",{className:"right"},r.a.createElement(Oe,{icons:["faPhoneAlt","faVideo"]}),r.a.createElement(Q,{icon:"faAngleRight",onclick:function(){return o("chat")},buttonClass:"btn-arrow",testId:"btn-close-chat"}))),r.a.createElement("section",{ref:l,className:"messages"},c.map((function(e,a){var n=e.author,c=e.message,o=e.time;return r.a.createElement("article",{key:o+a,className:F()("message",{other:n!==t}),"data-test":"message"},r.a.createElement("header",null,n!==t?n:"Me"),r.a.createElement("blockquote",null,c))}))),r.a.createElement("footer",null,r.a.createElement("div",{className:F()("gravatar",{typing:v})},r.a.createElement(me,{src:"./images/bitmoji-other.png"})),r.a.createElement("div",{className:"inner-content"},r.a.createElement(Q,{icon:"faCamera",buttonClass:"btn-camera",round:!0}),r.a.createElement(le,{placeholder:"Send a chat",rightIcon:"faMicrophone",onChange:function(e){return p(e.currentTarget.value)},onEnter:w,onBlur:w,value:d}),r.a.createElement("div",{className:"right"},r.a.createElement(Q,{icon:"faSmileWink"}),r.a.createElement(Q,{icons:["faMobile","faMobileAlt"],buttonClass:"btn-archive"}),r.a.createElement(Q,{icon:"faRocket"})))),r.a.createElement("audio",{ref:u,className:"app-sound"}))}))),ye=(a(142),function(e){var t=e.count,a=void 0===t?1:t;return r.a.createElement(r.a.Fragment,null,new Array(a).fill(null).map((function(e,t){return r.a.createElement("article",{key:"frame-".concat(t),className:"skeleton-frame"})})))}),ke=(a(143),function(e){var t=e.title,a=e.image,n=e.testId;return r.a.createElement("article",{className:"pod spotlight","data-test":n},r.a.createElement("img",{src:a,alt:""}),r.a.createElement("div",{className:"meta"},r.a.createElement("header",null,t)))}),Ne=(a(144),Object(u.b)((function(e){return{avatar:e.user.session.avatar}}),(function(e){return{showDrawer:function(t){return e(p(t))}}}))((function(e){var t=e.avatar,a=e.drawerContent,c=e.showDrawer,o=Object(n.useRef)(null),i=Object(n.useRef)(!1),s=Object(n.useRef)(function(e,t){var a;return function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];var o=function(){a=null,e.apply(void 0,r)};clearTimeout(a),a=setTimeout(o,t)}}((function(){!i.current&&function(e,t){var a=e.getBoundingClientRect(),n=a.top,r=a.bottom;return t?n>=0&&r<=window.innerHeight:n<window.innerHeight&&r>=0}(o.current)&&d((function(e){return e+1}))}),10)),l=Object(n.useState)(1),u=Object(j.a)(l,2),m=u[0],d=u[1],p=Object(n.useState)([]),h=Object(j.a)(p,2),b=h[0],v=h[1];return Object(n.useEffect)((function(){a.current.addEventListener("scroll",s.current)}),[a]),Object(n.useEffect)((function(){Object(y.a)(O.a.mark((function e(){var t,n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current=!0,e.next=3,k.get("/discover/page/".concat(m,".json"));case 3:if(t=e.sent,n=Object(j.a)(t,2),r=n[0],c=n[1],r){e.next=13;break}if(1!==m){e.next=11;break}return e.next=11,C(1e3);case 11:v((function(e){return[].concat(Object(f.a)(e),Object(f.a)(c.discover))})),i.current=!1;case 13:3===m&&a.current.removeEventListener("scroll",s.current);case 14:case"end":return e.stop()}}),e)})))()}),[m,a]),r.a.createElement("main",{className:"discover"},r.a.createElement(ve,{avatar:t,showDrawer:c,insideDrawer:!0}),r.a.createElement("section",{className:"view"},r.a.createElement($,{className:"friends",header:"Friends",transparent:!0},r.a.createElement("p",null,"Stories from your friends will appear here."),r.a.createElement(Q,{label:"Add Friends",purple:!0})),r.a.createElement($,{header:"For You",transparent:!0},r.a.createElement("div",{className:"inner"},b.length?b.map((function(e){var t=e.image,a=e.title;return r.a.createElement(ke,{key:t,image:t,title:a,testId:"discover-item"})})):r.a.createElement(ye,{count:10}))),r.a.createElement("div",{ref:o,className:"load-more"})))}))),Ce=(a(145),function(e){var t=e.drawers,a=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,t&&t.map((function(e){var t,n=e.component,c=e.animationIn,o=e.animationOut,i=e.animationInDuration,s=e.animationOutDuration,l=e.show,u=e.theme,m=e.position,f=document.getElementById(n);return l?null===f||void 0===f||f.classList.remove("collapse"):X((function(){return null===f||void 0===f?void 0:f.classList.add("collapse")}),s),r.a.createElement("aside",{id:n,key:n,className:F()("drawer",(t={},Object(G.a)(t,u,!0),Object(G.a)(t,m,!0),t))},r.a.createElement("div",{className:"view","data-test":"".concat(n,"-drawer")},r.a.createElement(Z.Animated,{animationIn:c,animationOut:o,animationInDuration:i,animationOutDuration:s,isVisible:l},r.a.createElement("section",{ref:a,className:"content","data-test":"drawer-content",style:{height:window.innerHeight+"px"}},function(e,t){return{account:r.a.createElement(se,null),search:r.a.createElement(de,{show:t}),snapMap:r.a.createElement(he,null),snap:r.a.createElement(be,null),archive:r.a.createElement(Ee,null),chat:r.a.createElement(je,null),discover:r.a.createElement(Ne,{drawerContent:a})}[e]}(n,l)))))})))}),Ie=Object(u.b)((function(e){var t=e.app,a=e.user;return{users:e.users,media:e.media,drawers:t.drawers,footerType:t.footerType,avatar:a.session.avatar}}),(function(e){return{showDrawer:function(t){return e(p(t))},hideDrawer:function(t){return e(h(t))},setFooterType:function(t){return e(b(t))},getSession:function(){return e(function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/session.json");case 2:a=e.sent,n=Object(j.a)(a,2),r=n[0],c=n[1],r||t({type:"user/sessionFetched",user:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getFriends:function(){return e(function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/friends.json");case 2:a=e.sent,n=Object(j.a)(a,2),r=n[0],c=n[1],r||t({type:"user/friendsFetched",users:c.users});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getPhotos:function(){return e(function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/photos.json");case 2:a=e.sent,n=Object(j.a)(a,2),r=n[0],c=n[1],r||t({type:"camera/photosFetched",photos:c.photos});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toggleCameraMode:function(){return e((function(e){return e({type:"camera/toggleCameraMode"})}))}}}))((function(e){var t=e.drawers,a=e.showDrawer,c=e.hideDrawer,o=e.footerType,i=e.setFooterType,s=e.avatar,l=e.getSession,u=e.getFriends,m=e.getPhotos,f=e.toggleCameraMode,d=e.children;return Object(n.useEffect)((function(){l(),u(),m()}),[l,u,m]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{drawers:t}),r.a.createElement(ve,{avatar:s,showDrawer:a,toggleCameraMode:f}),r.a.createElement("section",{className:"view"},d),t&&r.a.createElement(Ce,{drawers:t}),r.a.createElement(K,{footerType:o,setFooterType:i,drawers:t,showDrawer:a,hideDrawer:c}))})),Se=(a(146),function(e){var t=e.takePic,a=e.closePic,c=e.videoElem,o=e.pickPhoto,i=Object(n.useRef)(null);Object(n.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement,t=.01*window.innerHeight;e.style.setProperty("--vh",t+"px")}()}),[]);var s=function(){var e;return(null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.toDataURL("image/png"))||""};Object(n.useEffect)((function(){t&&(!function(){var e,t=window,a=t.innerWidth,n=t.innerHeight,r=null===i||void 0===i||null===(e=i.current)||void 0===e?void 0:e.getContext("2d");r&&(r.canvas.width=a,r.canvas.height=n,r.drawImage(c,0,0,a,n))}(),o(s()))}),[t,c,o]);return r.a.createElement("section",{"data-test":"photo-capture",className:F()("photo-capture",{hide:!t})},r.a.createElement("div",{className:"inner"},r.a.createElement("header",null,r.a.createElement(Q,{icon:"faTimes",onclick:a,testId:"btn-close"})),r.a.createElement("canvas",{ref:i}),r.a.createElement("aside",null,r.a.createElement(Q,{icon:"faTextHeight"}),r.a.createElement(Q,{icon:"faPen"}),r.a.createElement(Q,{icon:"faStickyNote"}),r.a.createElement(Q,{icon:"faCut"}),r.a.createElement(Q,{icon:"faPaperclip"}),r.a.createElement(Q,{icon:"faCropAlt"}),r.a.createElement(Q,{icon:"faStopwatch"})),r.a.createElement("footer",null,r.a.createElement("div",{className:"left"},r.a.createElement(Q,{icon:"faDownload",label:"Save",onclick:function(){var e=s();if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)window.open(e,"_blank");else{var t=document.createElement("a");t.download="download.png",t.href=e,t.click()}},buttonClass:"btn-download"}),r.a.createElement(Q,{icon:"faExternalLinkAlt",label:"Story"})),r.a.createElement("div",{className:"right"},r.a.createElement(Q,{icon:"faPlayCircle",label:"Send To"})))))}),De=(a(147),["dog","halloween","deform","bees","liberty"]),Me=Object(u.b)((function(e){return{cameraMode:e.camera.cameraMode}}),(function(e){return{setFooterType:function(t){return e(b(t))},pickPhoto:function(t){return e(function(e){return function(t){return t({type:"camera/setPhoto",dataURL:e})}}(t))}}}))((function(e){var t=e.setFooterType,a=e.pickPhoto,c=e.cameraMode,o=Object(n.useRef)(null),i=Object(n.useRef)(null),s=Object(n.useState)(!1),l=Object(j.a)(s,2),u=l[0],m=l[1],f=Object(n.useState)(!1),d=Object(j.a)(f,2),p=d[0],h=d[1],b=Object(n.useState)(De),v=Object(j.a)(b,2),E=v[0],g=v[1],w=Object(n.useState)(""),k=Object(j.a)(w,2),C=k[0],I=k[1],S=Object(n.useState)(!1),D=Object(j.a)(S,2),M=D[0],x=D[1],L=Object(n.useState)(null),T=Object(j.a)(L,2),A=T[0],P=T[1],R=Object(n.useState)(!1),z=Object(j.a)(R,2),U=z[0],H=z[1],G=Object(n.useState)(!1),J=Object(j.a)(G,2),B=J[0],W=J[1],_=Object(n.useCallback)(Object(y.a)(O.a.mark((function e(){var t,a,n,r,i,s,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=window.navigator,n=null===(t=document.querySelector("#wrapper"))||void 0===t?void 0:t.offsetWidth,"mediaDevices"in a||(a.mediaDevices={}),"getUserMedia"in a.mediaDevices||(a.mediaDevices.getUserMedia=function(e){var t=a.webkitGetUserMedia||a.mozGetUserMedia;return t?new Promise((function(n,r){return t.call(a,e,n,r)})):Promise.reject(new Error("getUserMedia() is not implemented!"))}),e.next=6,N(a.mediaDevices.getUserMedia({video:{facingMode:c,width:{ideal:n}}}));case 6:r=e.sent,i=Object(j.a)(r,2),s=i[0],l=i[1],!s&&o.current?(o.current.srcObject=l,P(l)):W(!0);case 11:case"end":return e.stop()}}),e)}))),[c]);Object(n.useEffect)((function(){_()}),[_]),Object(n.useEffect)((function(){if(C){window.Filters[C].init((function(){x(!0),m(!1),A.getTracks().forEach((function(e){return e.stop()}))}))}}),[C,A]);var V=function(e){var t=E.filter((function(t){return t!==e}));t.splice(2,0,e),g(t)},q=function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==C){e.next=2;break}return e.abrupt("return");case 2:if(m(!0),V(t),!M){e.next=13;break}return e.next=7,N(window.JEEFACEFILTERAPI.destroy());case 7:a=e.sent,n=Object(j.a)(a,1),n[0]||I(t),e.next=14;break;case 13:I(t);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("main",{className:"camera"},u&&r.a.createElement(ne,{message:"Applying Filter",fixed:!0}),B&&r.a.createElement("div",{className:"not-supported"},r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"crying emoji"},"\ud83d\ude2d")," ","Unfortunately your browser doesn't support the getUserMedia API used by the camera, please try another browser!")),r.a.createElement(Z.Animated,{animationIn:"tada",animationOut:"fadeOut",animationInDuration:1e3,animationOutDuration:0,isVisible:!u&&["dog","halloween"].includes(C),animateOnMount:!1},r.a.createElement("div",{className:"open-mouth"},r.a.createElement("strong",null,"Open Mouth"),r.a.createElement("span",{role:"img","aria-label":"tongue emoji"},"\ud83d\udc45"))),r.a.createElement("video",{ref:o,muted:!0,playsInline:!0,autoPlay:!0,className:F()("video-stream",{hide:M||U})}),r.a.createElement(Se,{takePic:U,closePic:function(){return H(!1)},videoElem:o.current,pickPhoto:a}),r.a.createElement("section",{className:"controls"},r.a.createElement(Q,{icon:"faCircle",buttonClass:"btn-capture",testId:"btn-capture-main",onclick:function(){B||(H(!0),i.current&&we("cameraShutter",i.current))}}),!p&&r.a.createElement(Q,{icon:"faLaugh",buttonClass:"btn-filters",testId:"btn-filters",onclick:function(){B||(h(!0),t("none"),X((function(){return q(E[2])}),100))}}),r.a.createElement(Z.Animated,{animationIn:"zoomIn",animationOut:"zoomOut",animationInDuration:100,animationOutDuration:100,isVisible:p,animateOnMount:!1},r.a.createElement("div",{className:"filters","data-test":"filters"},E.map((function(e){return r.a.createElement(Q,{key:e,image:"./images/filter-".concat(e,".svg"),buttonClass:"filter-".concat(e),onclick:function(){return q(e)}})}))),r.a.createElement("div",{className:"filter-actions"},r.a.createElement(Q,{icon:"faMagic",round:!0}),r.a.createElement(Q,{icon:"faQrcode",round:!0}),r.a.createElement(Q,{icon:"faTimesCircle",buttonClass:"btn-close",onclick:function(){I(""),h(!1),x(!1),t("full"),_(),window.JEEFACEFILTERAPI.destroy()}}),r.a.createElement(Q,{icon:"faLaugh",round:!0}),r.a.createElement(Q,{icon:"faSearch",round:!0})))),r.a.createElement("audio",{ref:i,className:"app-sound"}))})),xe=(a(148),function(){return r.a.createElement("main",{className:"not-found"},r.a.createElement("div",{className:"message"},r.a.createElement("h1",null,"Well, this is awkward!"),r.a.createElement("p",null,"We couldn't find what you were looking for"),r.a.createElement(i.b,{to:"/"},r.a.createElement(q,{icon:"faSnapchatSquare"}),r.a.createElement("span",null,"Go Home"))))}),Le=(a(150),a(151),a(152),Object(l.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.drawer,r=t.component,c=t.footerType;switch(a){case"app/showDrawer":return E(e,n);case"app/hideDrawer":return g(e,r);case"app/setFooterType":return Object(d.a)(Object(d.a)({},e),{},{footerType:c});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.user,r=t.users,c=t.geolocation;switch(a){case"user/sessionFetched":return Object(d.a)(Object(d.a)({},e),{},{session:n});case"user/friendsFetched":return Object(d.a)(Object(d.a)({},e),{},{friends:r});case"user/geoLocationFetched":case"user/setLatLon":return Object(d.a)(Object(d.a)({},e),{},{geolocation:c});default:return e}},snapMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.snaps,r=t.weather;switch(a){case"snapMap/snapsFetched":return Object(d.a)(Object(d.a)({},e),{},{snaps:n});case"snapMap/weatherFetched":return Object(d.a)(Object(d.a)({},e),{},{weather:r});default:return e}},snap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.snap;switch(a){case"snap/addSnap":return n;case"snap/removeSnap":return{};default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.messages,r=t.message;switch(a){case"chat/messagesReceived":return Object(d.a)(Object(d.a)({},e),{},{messages:n});case"chat/postMessage":return Object(d.a)(Object(d.a)({},e),{},{messages:[].concat(Object(f.a)(e.messages),[r])});default:return e}},camera:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.photos,r=t.dataURL;switch(a){case"camera/photosFetched":return Object(d.a)(Object(d.a)({},e),{},{photos:n});case"camera/setPhoto":return P(e,r);case"camera/toggleCameraMode":return Object(d.a)(Object(d.a)({},e),{},{cameraMode:"user"===e.cameraMode?"environment":"user"});default:return e}}})),Te="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Ae=Object(l.e)(Le,Te(Object(l.a)(m.a))),Pe=function(){return r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:Ae},r.a.createElement(i.a,null,r.a.createElement(Ie,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",exact:!0,component:Me}),r.a.createElement(s.a,{path:"/snapchat-clone",exact:!0,component:Me}),r.a.createElement(s.a,{component:xe}))))))};o.a.render(r.a.createElement(Pe,null),document.getElementById("root"))},58:function(e,t,a){e.exports=a(153)},69:function(e,t,a){},70:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.8519e6db.chunk.js.map